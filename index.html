<html>
<head>
    <script src="phonegap.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="js/googlemap.js"></script>
    <script type="text/javascript" src="js/reachability.js"></script>

    <script type="text/javascript">
    function onBodyLoad() {
        //  document.addEventListener("deviceready", onDeviceReady, false);
        onDeviceReady();
    }

    function onDeviceReady(){
        var reachability = new Reachability();

        if(reachability.IsNotConnected())
        {
            navigator.notification.alert('No internet connection available', null, '', 'OK');
        }
        else
        {
            var map = new GoogleMap();
            map.initialize();
        }
    }


    </script>
</head>

<body onload="onBodyLoad()">
    <div id="map_canvas" style="width:100%; height:100%;">
        Couldn't load map because there was no internet connection available
    </div>

    <script type="text/javascript">
    onBodyLoad();
    </script>
</body>
</html>